---
import { getRelativeLocaleUrl } from "astro:i18n";
import AlbertEinsteinCupImage from "~/assets/img/aec.webp";
import GermanChampionshipImage from "~/assets/img/german-championship.webp";
import OnlineCompetitionImage from "~/assets/img/online-competition.webp";
import RegistrationImage from "~/assets/img/registration.webp";
import WsgHandsImage from "~/assets/img/wsg-hands.svg";
import { getLangFromUrl, useTranslations } from "~/i18n";
import EventCard from "../EventCard.astro";
import Link from "../Link.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div>
  <div
    class="flex flex-col items-center gap-8 sm:flex-row sm:justify-evenly md:block"
  >
    <svg
      class="pointer-events-none absolute hidden max-w-[60rem] md:block lg:max-w-[76rem]"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="-160 0 1100 1800"
    >
      <defs>
        <linearGradient id="strokeGradient">
          <stop stop-color="#ffa11f" offset="0"></stop>
          <stop stop-color="#ed8b00" offset="1"></stop>
        </linearGradient>
      </defs>
      <path
        d="M41 197l96 4c133 15 279 100 366 82s187-121 217-123 130-46 118 165-42 424-185 410-299-198-423-197-156 91-135 247 44 299 173 275 386-56 396 13 52 322-100 380-255 10-317 16"
        fill="none"
        stroke-width="5"
        stroke='url("#strokeGradient")'
        stroke-linecap="round"
        stroke-dasharray="13 22"></path>
    </svg>
    <EventCard
      img={RegistrationImage}
      title={t({ de: "Anmeldung", en: "Registration" })}
      date={t({
        de: "1. November 2024 – 21. Februar 2025",
        en: "1 November 2024 – 21 February 2025",
      })}
      link={getRelativeLocaleUrl(lang, "anmeldung")}
      className="xl:mt-0"
      hoverTextColor="white"
    />
    <EventCard
      img={OnlineCompetitionImage}
      title={t({ de: "Online-Vorausscheidung", en: "Online Competition" })}
      date={t({
        de: "28. Dezember 2024 – 28. Februar 2025",
        en: "28 December 2024 – 28 February 2025",
      })}
      link={getRelativeLocaleUrl(lang, "anmeldung")}
      className="md:float-right md:mt-[-4rem]"
      hoverTextColor="white"
    />
    <EventCard
      img={GermanChampionshipImage}
      title={t({ de: "Deutsche Meisterschaft", en: "German Championship" })}
      date={t({ de: "2. – 5. Juni 2025", en: "2 – 5 June 2025" })}
      link="https://youtu.be/GSxIuskpALY"
      className="lg:mt-54 md:ml-20 md:mt-48 lg:ml-24 xl:ml-32 xl:mt-72"
      hoverTextColor="white"
    />
    <EventCard
      img={AlbertEinsteinCupImage}
      title={t({ de: "Albert-Einstein-Cup", en: "Albert Einstein Cup" })}
      date={t({ de: "vsl. Mai 2026", en: "around May 2026" })}
      link="https://youtu.be/dLzMXGLjN3w"
      className="md:float-right md:mr-20 md:mt-[-4rem] lg:mr-24 xl:mr-32"
      hoverTextColor="white"
    />
    <EventCard
      img={WsgHandsImage}
      title="WorldSkills Shanghai"
      date={t({ de: "22. – 27. September 2026", en: "22 – 27 September 2026" })}
      link="https://worldskills2026.com"
      className="md:ml-60 md:mt-64 lg:ml-72 lg:mt-72 xl:ml-96 xl:mt-96"
      hoverTextColor="white"
    />
  </div>

  <ol class="list-decimal space-y-4 text-left sm:pt-8 md:pt-16">
    <li>
      <Link href={getRelativeLocaleUrl(lang, "anmeldung")}>
        {t({ de: "Du meldest dich an", en: "You register yourself" })}
      </Link>
      {
        t({
          de: "und erhältst vor dem Start des Online-Vorausscheides deine Zugangsdaten.",
          en: "and receive your credentials before the online preliminary competition starts.",
        })
      }
    </li>
    <li>
      {
        t({
          de: "Innerhalb der Laufzeit des Online-Ausscheids löst du zu einem Zeitpunkt deiner Wahl mehrere anspruchsvolle Testaufgaben, die jeweils ca. 60 – 120 Minuten dauern. Diese kannst du auch über mehrere Tage verteilen. Die Wahl deiner Programmiersprache spielt hierbei noch keine Rolle.",
          en: "During the online preliminary competition, you solve multiple complex tasks at a time of your choosing. Each task takes around 60 – 120 minutes, but you can distribute them across multiple days. The programming language that you use is not relevant.",
        })
      }
    </li>
    <li>
      {
        t({
          de: "Am Bundesleistungszentrum, dem Albert-Einstein-Gymnasium in Neubrandenburg, finden die Deutschen Meisterschaften der drei Disziplinen zusammen statt. Hier werden über vier Tage anspruchsvolle Android-, Desktop- bzw. Web-Apps entwickelt. Am Ende steht für jede Disziplin das Nationalteam fest.",
          en: "The German Championships for the three skills take place together at the National Training Center, the Albert-Einstein-Gymnasium in Neubrandenburg. Sophisticated Android, desktop, and web apps are developed here over four days. At the end, the national team is determined for each skills.",
        })
      }
    </li>
    <li>
      {
        t({
          de: "Die Nationalteams werden von unserem Trainerteam in mehreren Trainingslagern und online auf die weiteren Wettbewerbe vorbereitet.",
          en: "The national teams are being prepared for the following competitions in multiple training camps and online by our trainer team.",
        })
      }
      {
        t({
          de: "Die Mitglieder der drei Nationalteams treten beim Albert-Einstein-Cup in ihren Disziplinen gegen die besten Softwareentwickler*innen der Welt an. Im Ergebnis werden die drei deutschen Teilnehmer*innen für die WorldSkills Shanghai 2026 bestimmt.",
          en: "The members of the three national teams compete against the best software developers in the world in their skills at the Albert Einstein Cup. The results will determine the three German competitors for WorldSkills Shanghai 2026.",
        })
      }
    </li>
    <li>
      {
        t({
          de: "Jeweils ein*e Teilnehmer*in vertritt Deutschland in den drei Disziplinen bei den WorldSkills in Shanghai. Der Wettkampf geht über vier Tage.",
          en: "In each of the three Skills, one competitor represents Germany at the WorldSkills in Shanghai. The competition takes place over four days.",
        })
      }
    </li>
  </ol>
</div>
