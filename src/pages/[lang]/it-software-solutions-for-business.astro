---
import { t } from "i18next";
import SkillPage from "../../layouts/SkillPage.astro";
import { getStaticLangPaths, updateLang } from "../../routing/lang";
import { load_history } from "../../utils/async_helper";

export const getStaticPaths = getStaticLangPaths;
updateLang(Astro.url.pathname);

const { lang } = Astro.params;

const history_data = await load_history("skill09", lang);
---

<SkillPage
  skillNumber="09"
  contact="mailto:skills@kapplers.de"
  skillName="IT Software Solutions for Business"
  img="https:////live.staticflickr.com/65535/52434272561_5e10bb3507_h.jpg"
  nationalTeam={[]}
  timelineEntries={Object.values(history_data).map((entry) => ({
    title: entry["title"],
    date: entry["date"],
    text: entry["text"],
  }))}
  additionalLinks={[
    {
      name: "worldskills.org",
      text: t("skills.09.links.wsi"),
      href: "https://worldskills.org/skills/id/221/",
    },
    {
      name: "worldskills2024.com",
      text: t("skills.09.links.wsc2024"),
      href: "https://worldskills2024.com/en/skills/it-software-solutions-for-business",
    },
  ]}
/>
